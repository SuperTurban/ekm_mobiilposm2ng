webpackJsonp([1],{"/yRs":function(t,e,n){"use strict";function i(t){n("3GDT")}Object.defineProperty(e,"__esModule",{value:!0});var a=n("diQi"),s=n.n(a),o=n("FIJ3"),r=n("VU/8"),l=i,c=r(s.a,o.a,!1,l,null,null);e.default=c.exports},"07vs":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",attrs:{id:"leaderboards-container"}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-4 games-list"},[n("div",{staticClass:"general-scores",on:{click:function(e){t.clicked(0)}}},[n("router-link",{staticClass:"btn btn-outline-dark btn gamelink",class:{active:0==t.activeEl},attrs:{to:"/leaderboards/all"}},[t._v("\n\t\t\t\t\tÜldine edetabel\n\t\t\t\t")])],1),t._v(" "),n("br"),t._v(" "),n("h5",[t._v("Mängude edetabelid:")]),t._v(" "),t._l(t.games,function(e,i){return n("div",{staticClass:"game-name-wrapper",on:{click:function(e){t.clicked(i+1)}}},[n("router-link",{staticClass:"btn btn-outline-dark btn gamelink",class:{active:t.activeEl==i+1},attrs:{to:"/leaderboards/"+e.id,"data-name":e.name}},[t._v("\n                  "+t._s(e.name)+"\n                ")])],1)})],2),t._v(" "),n("div",{staticClass:"cur-leaderboard col-8"},[n("router-view")],1)])])},a=[],s={render:i,staticRenderFns:a};e.a=s},"2B8Y":function(t,e){},"2Ile":function(t,e){},"2Nby":function(t,e,n){"use strict";e.a={name:"mainmenu",data:function(){return{activeEl:0}},methods:{logout:function(t){this.$parent.state.loggedIn=!1,this.api.token=!1},clicked:function(t){this.activeEl=t}}}},"3GDT":function(t,e){},"3y59":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",[n("span",{domProps:{textContent:t._s(t.label)}}),t._v(" "),n("input",{ref:"input",class:t.className,attrs:{type:"text",placeholder:t.placeholder}})])},a=[],s={render:i,staticRenderFns:a};e.a=s},"3yYu":function(t,e,n){"use strict";e.a={name:"Games",data:function(){return{games:[]}},methods:{deleteGame:function(t){this.api.deleteGame(t).then(function(e){this.games=this.games.filter(function(e){return t!=e.id})}.bind(this))}},created:function(){this.api.listGames().then(function(t){this.games=t}.bind(this))}}},"4xmN":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"media container",attrs:{id:"media-container"}},[n("div",[t._v("Valitud failid:")]),t._v(" "),0==t.chosenFiles.length?n("span",{staticClass:"messeg"},[t._v("Pole ühtegi valitud")]):t._e(),t._v(" "),n("div",{staticClass:"chosen-media row"},t._l(t.chosenFiles,function(e){return n("div",{staticClass:"col-xs-6 col-md-3"},["IMAGE"==e.mediaType||"image"==e.mediaType?n("div",[n("a",{staticClass:"img thumbnail",attrs:{href:"#"},on:{click:function(n){n.preventDefault(),n.stopPropagation(),t.chosenMediaClickHandle(e)}}},[n("img",{attrs:{src:t.getImgThumb(e.path)}})])]):n("div",[n("a",{staticClass:"audionail",attrs:{href:"#"},on:{click:function(n){n.preventDefault(),n.stopPropagation(),t.chosenMediaClickHandle(e)}}},[t._v("AUDIO : "+t._s(e.name))])])])})),t._v(" "),n("button",{staticClass:"btn",on:{click:function(e){e.preventDefault(),e.stopPropagation(),t.showAll=!t.showAll}}},[t.showAll?n("span",[t._v("Peida ülejäänud failid")]):n("span",[t._v("Näita kõiki faile")])]),t._v(" "),t.showAll?n("div",{staticStyle:{"margin-top":"10px"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.nameFilterValue,expression:"nameFilterValue"}],attrs:{type:"text",placeholder:"Filtreerimine nime järgi"},domProps:{value:t.nameFilterValue},on:{input:function(e){e.target.composing||(t.nameFilterValue=e.target.value)}}})]):t._e(),t._v(" "),t.showAll?n("div",{staticClass:"all-media row"},t._l(t.filterFiles(t.allFiles),function(e){return n("div",{staticClass:"col-xs-6 col-sm-4 col-md-3"},["IMAGE"==e.mediaType||"image"==e.mediaType?n("div",[n("a",{staticClass:"img thumbnail",attrs:{href:"#"},on:{click:function(n){n.preventDefault(),n.stopPropagation(),t.allMediaClickHandle(e)}}},[n("img",{attrs:{src:t.getImgThumb(e.path)}})])]):n("div",[n("a",{staticClass:"audionail",attrs:{href:"#"},on:{click:function(n){n.preventDefault(),n.stopPropagation(),t.allMediaClickHandle(e)}}},[t._v("AUDIO: "+t._s(e.name))])])])})):t._e(),t._v(" "),n("div",{staticClass:"form-wrap"},[t.isInitial||t.isSaving?n("form",{staticClass:"upload",attrs:{enctype:"multipart/form-data",novalidate:""}},[n("div",{staticClass:"dropbox"},[n("input",{staticClass:"input-file",attrs:{type:"file",multiple:"",name:t.uploadFieldName,disabled:t.isSaving,accept:"audio/*|video/*|image/*"},on:{change:function(e){t.filesChange(e.target.name,e.target.files),t.fileCount=e.target.files.length}}}),t._v(" "),t.isInitial?n("p",[t._v("\n                  Lohista failid siia.\n                ")]):t._e(),t._v(" "),t.isSaving?n("p",[t._v("\n                  Üleslaadimine...\n                ")]):t._e()])]):t._e()])])},a=[],s={render:i,staticRenderFns:a};e.a=s},"5ZbH":function(t,e,n){"use strict";function i(t){n("AJr4")}Object.defineProperty(e,"__esModule",{value:!0});var a=n("kXiA"),s=n.n(a),o=n("KrRW"),r=n("VU/8"),l=i,c=r(s.a,o.a,!1,l,null,null);e.default=c.exports},"5awb":function(t,e,n){"use strict";var i=n("c/Tr"),a=n.n(i);e.a={name:"app",data:function(){return{uploadedFiles:[],uploadError:null,currentStatus:null,uploadFieldName:"files[]",allFiles:[],showAll:!1,nameFilterValue:""}},props:["chosenFiles"],computed:{isInitial:function(){return 0===this.currentStatus},isSaving:function(){return 1===this.currentStatus},isSuccess:function(){return 2===this.currentStatus},isFailed:function(){return 3===this.currentStatus}},methods:{getImgThumb:function(t){var e=t.split("/upload/");return 2==e.length?e[0]+"/upload/w_150,c_fit/"+e[1]:t},filterFiles:function(t){var e=this;return""==this.nameFilterValue?t:t.filter(function(t){return-1!==t.name.indexOf(e.nameFilterValue)})},allMediaClickHandle:function(t){this.chosenFiles.push(t),console.log(this.chosenFiles)},chosenMediaClickHandle:function(t){console.log(this.chosenFiles);var e=this.chosenFiles.findIndex(function(e){return e.name==t.name});this.chosenFiles.splice(e,1)},reload:function(){this.api.getMedia().then(function(t){this.allFiles=t}.bind(this))},reset:function(){this.currentStatus=0,this.uploadedFiles=[],this.uploadError=null},save:function(t){var e=this;this.currentStatus=1,this.api.createMedia(t).then(function(t){e.currentStatus=0,e.reload()}).catch(function(t){e.uploadError=t.response,e.currentStatus=3})},filesChange:function(t,e){var n=new FormData;e.length&&(a()(e).forEach(function(i,a){n.append(t,e[a],i.name)}),this.save(n))}},mounted:function(){this.reset()},created:function(){this.reload()}}},"5cLx":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("Vj7G"),a=n.n(i),s=n("r/ZB"),o=n("VU/8"),r=o(a.a,s.a,!1,null,null,null);e.default=r.exports},"8LNB":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",attrs:{id:"users-container"}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-4 users-list"},t._l(t.users,function(e,i){return n("div",{staticClass:"user-name-wrapper",on:{click:function(e){t.clicked(i+1)}}},[n("router-link",{staticClass:"btn btn-outline-dark btn userlink",class:{active:t.activeEl==i+1},attrs:{to:"/users/"+e.id,"data-name":e.username}},[t._v("\n              "+t._s(e.username)+"\n            ")])],1)})),t._v(" "),n("div",{staticClass:"cur-user-profile col-8"},[n("router-view")],1)])])},a=[],s={render:i,staticRenderFns:a};e.a=s},"96Ht":function(t,e,n){"use strict";var i=n("SvTV");e.a={name:"Games",created:function(){i.default.listDestinations().then(function(t){this.destinations=t}.bind(this))},data:function(){return{destinations:[]}},methods:{deleteDestination:function(t){this.api.deleteDestination(t).then(function(e){this.destinations=this.destinations.filter(function(e){return t!=e.id})}.bind(this))}}}},AJr4:function(t,e){},Ab7z:function(t,e,n){"use strict";var i=n("VU/8"),a=i(null,null,!1,null,null,null);a.exports},BzJA:function(t,e){},"De++":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("h3",[t._v(t._s(t.user.username))]),t._v(" "),n("form",[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"point_title"}},[t._v("Username")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{id:"user_title",value:"user.username"},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"row action-buttons"},[n("div",{staticClass:"col"},[n("button",{staticClass:"btn btn-block btn-success btn-lg",on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.sendEmail(e)}}},[t._v("\n                Send email\n            ")])])])])])},a=[],s={render:i,staticRenderFns:a};e.a=s},"DtT/":function(t,e,n){"use strict";function i(t){n("WGsN")}var a=n("2Nby"),s=n("fSD2"),o=n("VU/8"),r=i,l=o(a.a,s.a,!1,r,null,null);e.a=l.exports},"E/5j":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{directives:[{name:"show",rawName:"v-show",value:t.msg,expression:"msg"}],staticClass:"alert alert-danger validation-error"},[t._v("\r\n    "+t._s(t.msg)+"\r\n")])},a=[],s={render:i,staticRenderFns:a};e.a=s},FIJ3:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vue-street-view-pano-container"},[n("div",{ref:"vue-street-view-pano",staticClass:"vue-street-view-pano"}),t._v(" "),t._t("default")],2)},a=[],s={render:i,staticRenderFns:a};e.a=s},Fvhm:function(t,e,n){"use strict";function i(t){n("BzJA")}var a=n("IYJr"),s=n("THYD"),o=n("VU/8"),r=i,l=o(a.a,s.a,!1,r,null,null);e.a=l.exports},Gjim:function(t,e,n){"use strict";function i(t){n("mo3F")}var a=n("U2g2"),s=n("luBv"),o=n("VU/8"),r=i,l=o(a.a,s.a,!1,r,null,null);e.a=l.exports},HyhT:function(t,e,n){"use strict";function i(t){n("rv5c")}var a=n("96Ht"),s=n("j9E0"),o=n("VU/8"),r=i,l=o(a.a,s.a,!1,r,null,null);e.a=l.exports},IYJr:function(t,e,n){"use strict";n("SvTV");e.a={name:"Leaderboard",data:function(){return{players:[],game:void 0,emails:[]}},created:function(){this.reload()},watch:{"$route.params.gameId":function(t){this.reload()}},methods:{addEmail:function(){var t=event.target,e=t.value;t.checked?this.emails.push(e):this.emails=this.emails.filter(function(t){return t!==e})},reload:function(){"all"!=this.$route.params.gameId?this.api.gameById(this.$route.params.gameId).then(function(t){this.game=t}.bind(this)):this.game=void 0,this.api.getGameLeaderboard(this.$route.params.gameId).then(function(t){this.players=t.players}.bind(this))}}}},"Inj+":function(t,e){},KWIQ:function(t,e){},KiRs:function(t,e){},KrRW:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vue-map-container"},[n("div",{ref:"vue-map",staticClass:"vue-map"}),t._v(" "),n("div",{staticClass:"vue-map-hidden"},[t._t("default")],2),t._v(" "),t._t("visible")],2)},a=[],s={render:i,staticRenderFns:a};e.a=s},M93x:function(t,e,n){"use strict";function i(t){n("Inj+")}var a=n("xJD8"),s=n("hztW"),o=n("VU/8"),r=i,l=o(a.a,s.a,!1,r,null,null);e.a=l.exports},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),a=n("M93x"),s=n("YaEn"),o=n("mtWM"),r=(n.n(o),n("sA6N"));n.n(r);i.a.config.productionTip=!1;var l=n("SvTV");l.vue=i.a,i.a.prototype.api=l.default,i.a.use(r,{load:{key:"AIzaSyABVIIc4Ox0jUUV8UBqcrZ4ljfR0xqCuh4"}}),new i.a({el:"#app",router:s.a,template:"<App/>",components:{App:a.a}})},SbJe:function(t,e){},SvTV:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,i,a=n("woOf"),s=n.n(a),o=n("mtWM"),r=n.n(o),i="",l=function(){this.vue=null,this.token=!1,this.loggedIn=!1,this.tokenize=function(t){return t.token=this.token,t},this.mapMediaIds=function(t){return t.map(function(t){return t._id})},this.mapDestinationIds=function(t){return t.map(function(t){return t.id})},this.createMedia=function(t){return r.a.post(i+"/app/media/",t).then(function(t){console.log(t)})},this.getMedia=function(){return r.a.get(i+"/app/media").then(function(t){if("ok"==t.data.status)return t.data.files;throw"error"})},this.authenticate=function(t,e){return r.a.post(i+"/app/authenticate",{email:t,password:e}).then(function(t){if("ok"==t.data.status)return this.token=t.data.token,t.data;throw"wrong password"}.bind(this))},this.listGames=function(){return r.a.get(i+"/app/game").then(function(t){return t.data.map(function(t){return{id:t._id,name:t.name}})})},this.gameById=function(t){return r.a.get(i+"/app/game/"+t).then(function(t){return t.data})},this.newGame=function(t){var e={game:t};return e=this.tokenize(e),r.a.post(i+"/app/game",e)},this.editGame=function(t,e){var n={game:e};return n=this.tokenize(n),r.a.put(i+"/app/game/"+t,n)},this.deleteGame=function(t){var e=this.tokenize({});return r.a.post(i+"/app/game/"+t+"/delete",e)},this.listDestinations=function(t){return r.a.get(i+"/app/destination").then(function(t){return t.data.map(function(t){return{id:t._id,name:t.name}})})},this.deleteDestination=function(t){var e=this.tokenize({});return r.a.post(i+"/app/destination/"+t+"/delete",e)},this.destinationById=function(t){return r.a.get(i+"/app/destination/"+t).then(function(t){return t.data})},this.newDestination=function(t){var e=s()({},t);e.media=this.mapMediaIds(t.media);var n={destination:e};return n=this.tokenize(n),r.a.post(i+"/app/destination",n)},this.editDestination=function(t,e){var n=s()({},t);n.media=this.mapMediaIds(t.media);var a={destination:n};return a=this.tokenize(a),r.a.put(i+"/app/destination/"+e,a)},this.getGameLeaderboard=function(t){var e;return e=null==t?"app/leaderboards/all":"/app/leaderboards/"+t,r.a.get(i+e).then(function(t){t.data.players.map(function(t){return{id:t._id,user:t.user,score:t.score}});return t.data})},this.listUsers=function(){return r.a.get(i+"/app/user/all").then(function(t){t.data.users.map(function(t){return{id:t._id,username:t.username,email:t.email}});return console.log(t),t.data})}},c=new l;e.default=c},Svxx:function(t,e,n){"use strict";function i(t){n("c4/l")}var a=n("Zkz/"),s=n("cpVo"),o=n("VU/8"),r=i,l=o(a.a,s.a,!1,r,null,null);e.a=l.exports},SwzX:function(t,e){},THYD:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",attrs:{id:"leaderboard-container"}},[n("div",{staticClass:"col"},[void 0==t.game?n("h3",[t._v("Üldine edetabel")]):n("h3",[t._v(t._s(t.game.name))])]),t._v(" "),n("div",{staticClass:"col"},[n("div",{staticClass:"btn btn-success btn-group"},[n("a",{attrs:{href:"mailto:"+t.emails.join(";")}},[t._v("\n\t\t\t\t\tSaada email valitud kasutajatele\n\t\t\t\t")])])]),t._v(" "),n("div",{staticClass:"col"},[n("table",[t._m(0,!1,!1),t._v(" "),t._l(t.players,function(e,i){return n("tr",[n("th",[t._v(t._s(i+1))]),t._v(" "),n("th",[t._v(t._s(e.user.username))]),t._v(" "),n("th",[t._v(t._s(e.score))]),t._v(" "),n("th",[n("input",{attrs:{type:"checkbox",name:"Send email"},domProps:{value:e.user.email},on:{click:t.addEmail}})])])})],2)])])},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",{staticClass:"column-titles"},[n("th",[t._v("Koht")]),t._v(" "),n("th",[t._v("Kasutajanimi")]),t._v(" "),n("th",[t._v("Punktid")]),t._v(" "),n("th",[t._v("Vali, et saata email")])])}],s={render:i,staticRenderFns:a};e.a=s},"TKn+":function(t,e,n){"use strict";function i(t){n("KWIQ")}var a=n("dxC/"),s=n("8LNB"),o=n("VU/8"),r=i,l=o(a.a,s.a,!1,r,null,null);e.a=l.exports},U2g2:function(t,e,n){"use strict";var i=n("fZjL"),a=n.n(i),s=n("RUzx"),o=n.n(s),r=n("dMrR");e.a={name:"SingleGame",data:function(){return{labels:{selected:"test"},game:{name:void 0,description:void 0,destinations:[],active:!1,gameColor:"#adadad"},destinations:[],validationErrors:{}}},computed:{isNewGame:function(){return!this.$route.params.id}},components:{Multiselect:o.a,verror:r.a},methods:{setValidationErrors:function(t){for(var e in t)if(t.hasOwnProperty(e)){var n=e.split(".")[1];this.validationErrors[n]=t[e].msg}this.$forceUpdate()},toggleActive:function(){this.game.active=!this.game.active,this.$forceUpdate()},submit:function(){this.validationErrors={};var t={name:this.game.name,description:this.game.description,destinations:this.api.mapDestinationIds(this.game.destinations),active:this.game.active,gameColor:this.game.gameColor};this.isNewGame?this.api.newGame(t).then(function(t){this.$router.push({name:"singlegame",params:{id:t.data.id}})}.bind(this)).catch(function(t){this.setValidationErrors(t.response.data.errors)}.bind(this)):this.api.editGame(this.$route.params.id,t).then(function(t){alert("muudetud")}.bind(this)).catch(function(t){this.setValidationErrors(t.response.data.errors)}.bind(this))},reload:function(){this.isNewGame||this.api.gameById(this.$route.params.id).then(function(t){console.log(a()(t)),this.game=t,""!=this.game.gameColor&&void 0!=this.game.gameColor||(this.game.gameColor="#adadad")}.bind(this)),this.api.listDestinations().then(function(t){this.destinations=t}.bind(this))},cancel:function(){this.$router.push({name:"Games"})}},watch:{"$route.params.id":function(t){this.reload()}},created:function(){this.reload()}}},Uhku:function(t,e,n){"use strict";e.a={name:"Main",data:function(){return{msg:"test"}}}},VIkJ:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{})},a=[],s={render:i,staticRenderFns:a};e.a=s},WGsN:function(t,e){},WZVU:function(t,e,n){"use strict";e.a={name:"verror",props:["msg"]}},YI6p:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("jIen"),a=n.n(i),s=n("3y59"),o=n("VU/8"),r=o(a.a,s.a,!1,null,null,null);e.default=r.exports},YaEn:function(t,e,n){"use strict";var i=n("7+uW"),a=n("/ocq"),s=n("s6+2"),o=n("kx66"),r=n("HyhT"),l=n("TKn+"),c=n("jyJz"),u=n("Gjim"),d=(n("Ab7z"),n("Svxx")),m=n("faJ6"),v=n("Fvhm");i.a.use(a.a),e.a=new a.a({routes:[{path:"/",name:"Main",component:s.a},{path:"/games",name:"Games",component:o.a,children:[{name:"singlegame",path:":id",component:u.a}]},{path:"/destinations",name:"Destinations",component:r.a,children:[{name:"singledestination",path:":destinationId",component:d.a}]},{path:"/users",name:"Users",component:l.a,children:[{name:"singleuser",path:":userId",component:c.a}]},{path:"/create-game",name:"NewGame",component:u.a},{path:"/create-destination",name:"NewDestination",component:d.a},{path:"/leaderboards",name:"Leaderboards",component:m.a,children:[{name:"singleleaderboard",path:":gameId",component:v.a}]}]})},"Zkz/":function(t,e,n){"use strict";var i=n("pFYg"),a=n.n(i),s=n("RUzx"),o=n.n(s),r=n("dMrR"),l=n("v6Uu");e.a={name:"SingleDestination",data:function(){return{destination:{name:void 0,description:void 0,media:[],question:{question:"",type:"multiple_choice",choice1:"",choice2:"",choice3:"",answer:""},information:void 0,coords:{lat:void 0,long:void 0},def:2},validationErrors:{}}},computed:{isNewDestination:function(){return!this.$route.params.destinationId},destination_id:function(){return this.$route.params.destinationId||void 0}},components:{Multiselect:o.a,verror:r.a,media:l.a},methods:{answerStyle:function(t){return this.destination.question.type==t?"btn-success":""},choiceStyle:function(t){var t=this.destination.question["choice"+t];return this.destination.question.answer==t&&""!==t?"rightchoice":"wrongchoice"},getCenter:function(){return this.isNewDestination?{lat:58.64836904,lng:25.510425}:{lat:this.destination.coords.lat,lng:this.destination.coords.long}},getZoom:function(){return this.isNewDestination?7:12},mapClickHandler:function(t){this.destination.coords.lat=t.latLng.lat(),this.destination.coords.long=t.latLng.lng()},setValidationErrors:function(t){for(var e in t)if(t.hasOwnProperty(e)){var n=e.split(".")[e.split(".").length-1];this.validationErrors[n]=t[e].msg}this.$forceUpdate()},submit:function(){this.validationErrors={},this.isNewDestination?this.api.newDestination(this.destination).then(function(t){this.$router.push({name:"singledestination",params:{destinationId:t.data.id}})}.bind(this)).catch(function(t){this.setValidationErrors(t.response.data.errors)}.bind(this)):this.api.editDestination(this.destination,this.$route.params.destinationId).then(function(t){this.$router.push({name:"singledestination",params:{destinationId:t.data.id}})}.bind(this)).catch(function(t){this.setValidationErrors(t.response.data.errors)}.bind(this))},cancel:function(){this.$router.push({name:"Destinations"})},reload:function(){this.isNewDestination||(console.log(this.$route.params.destinationId),this.api.destinationById(this.$route.params.destinationId).then(function(t){a()(t.question)==String&&delete t.question;for(var e in t)t.hasOwnProperty(e)&&(console.log(e),this.destination[e]=t[e])}.bind(this)))}},watch:{"$route.params.destinationId":function(){this.reload()}},created:function(){this.reload(),this.api.listDestinations().then(function(t){console.log("tes"),this.destinations=t}.bind(this))}}},"c4/l":function(t,e){},cpVo:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[t.isNewDestination?t._e():n("h3",[t._v(t._s(t.destination.name))]),t._v(" "),n("form",[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"point_title"}},[t._v("Punkti nimi:")]),t._v(" "),n("verror",{attrs:{msg:t.validationErrors.name}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.destination.name,expression:"destination.name"}],staticClass:"form-control",attrs:{id:"point_title"},domProps:{value:t.destination.name},on:{input:function(e){e.target.composing||t.$set(t.destination,"name",e.target.value)}}})],1),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"point_description"}},[t._v("Punkti kirjeldus:")]),t._v(" "),n("verror",{attrs:{msg:t.validationErrors.description}}),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.destination.description,expression:"destination.description"}],staticClass:"form-control",attrs:{id:"point_description",rows:"3"},domProps:{value:t.destination.description},on:{input:function(e){e.target.composing||t.$set(t.destination,"description",e.target.value)}}})],1),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"point_info"}},[t._v("Punkti informatsioon (näitamiseks peale punktis jõudmist): ")]),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.destination.information,expression:"destination.information"}],staticClass:"form-control",attrs:{id:"point_info",rows:"3"},domProps:{value:t.destination.information},on:{input:function(e){e.target.composing||t.$set(t.destination,"information",e.target.value)}}})]),t._v(" "),n("verror",{attrs:{msg:t.validationErrors.lat}}),t._v(" "),n("label",[t._v("Vali koordinaadid:")]),t._v(" "),n("gmap-map",{staticStyle:{height:"400px"},attrs:{center:t.getCenter(),zoom:t.getZoom()},on:{click:t.mapClickHandler}},[n("gmap-marker",{key:1,attrs:{position:{lat:t.destination.coords.lat,lng:t.destination.coords.long}}})],1),t._v(" "),n("label",{staticStyle:{"margin-top":"10px"}},[t._v("Meediafailid:")]),t._v(" "),n("div",[n("media",{attrs:{chosenFiles:t.destination.media}})],1),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"point_question"}},[t._v("Küsimus punkti kohta: ")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.destination.question.question,expression:"destination.question.question"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.destination.question.question},on:{input:function(e){e.target.composing||t.$set(t.destination.question,"question",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"btn-group",attrs:{"data-toggle":"buttons"}},[n("label",{staticClass:"btn btn-secondary",class:t.answerStyle("single_answer")},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.destination.question.type,expression:"destination.question.type"}],attrs:{type:"radio",value:"single_answer"},domProps:{checked:t._q(t.destination.question.type,"single_answer")},on:{change:function(e){t.$set(t.destination.question,"type","single_answer")}}}),t._v("Kindel vastus \n            ")]),t._v(" "),n("label",{staticClass:"btn btn-secondary",class:t.answerStyle("multiple_choice")},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.destination.question.type,expression:"destination.question.type"}],attrs:{type:"radio",value:"multiple_choice"},domProps:{checked:t._q(t.destination.question.type,"multiple_choice")},on:{change:function(e){t.$set(t.destination.question,"type","multiple_choice")}}}),t._v("Valik vastused\n            ")]),t._v(" "),n("label",{staticClass:"btn btn-secondary",class:t.answerStyle("creative_answer")},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.destination.question.type,expression:"destination.question.type"}],attrs:{type:"radio",value:"creative_answer"},domProps:{checked:t._q(t.destination.question.type,"creative_answer")},on:{change:function(e){t.$set(t.destination.question,"type","creative_answer")}}}),t._v("Loominguline vastus\n            ")])]),t._v(" "),"multiple_choice"==t.destination.question.type?n("div",{staticClass:"form-group descended"},[n("label",{attrs:{for:"choice1"}},[t._v("Vastusevariant 1 "),n("span",{staticClass:"btn-outline-dark btn-sm",on:{click:function(e){t.destination.question.answer=t.destination.question.choice1}}},[t._v("Märgi õigeks")])]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.destination.question.choice1,expression:"destination.question.choice1"}],staticClass:"form-control",class:t.choiceStyle(1),attrs:{type:"text",id:"choice1"},domProps:{value:t.destination.question.choice1},on:{input:function(e){e.target.composing||t.$set(t.destination.question,"choice1",e.target.value)}}}),t._v(" "),n("label",{attrs:{for:"choice2"}},[t._v("Vastusevariant 2 "),n("span",{staticClass:"btn-outline-dark btn-sm",on:{click:function(e){t.destination.question.answer=t.destination.question.choice2}}},[t._v("Märgi õigeks")])]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.destination.question.choice2,expression:"destination.question.choice2"}],staticClass:"form-control",class:t.choiceStyle(2),attrs:{type:"text",id:"choice2"},domProps:{value:t.destination.question.choice2},on:{input:function(e){e.target.composing||t.$set(t.destination.question,"choice2",e.target.value)}}}),t._v(" "),n("label",{attrs:{for:"choice3"}},[t._v("Vastusevariant 3 "),n("span",{staticClass:"btn-outline-dark btn-sm",on:{click:function(e){t.destination.question.answer=t.destination.question.choice3}}},[t._v("Märgi õigeks")])]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.destination.question.choice3,expression:"destination.question.choice3"}],staticClass:"form-control",class:t.choiceStyle(3),attrs:{type:"text",id:"choice3"},domProps:{value:t.destination.question.choice3},on:{input:function(e){e.target.composing||t.$set(t.destination.question,"choice3",e.target.value)}}})]):t._e(),t._v(" "),"creative_answer"!=t.destination.question.type?n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"point_answer"}},[t._v("Vastus küsimusele: ")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.destination.question.answer,expression:"destination.question.answer"}],staticClass:"form-control",attrs:{type:"text",id:"point_answer",rows:"3"},domProps:{value:t.destination.question.answer},on:{input:function(e){e.target.composing||t.$set(t.destination.question,"answer",e.target.value)}}})]):t._e(),t._v(" "),n("div",{staticClass:"row action-buttons"},[n("div",{staticClass:"col"},[n("button",{staticClass:"btn btn-block btn-success btn-lg",attrs:{id:"submit-destination"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.submit(e)}}},[t._v("\n                Salvesta\n            ")])]),t._v(" "),n("div",{staticClass:"col"},[n("button",{staticClass:"btn btn-block btn-danger btn-lg tuhista",on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.cancel(e)}}},[t._v("\n                Tühista\n            ")])])])],1)])},a=[],s={render:i,staticRenderFns:a};e.a=s},dMrR:function(t,e,n){"use strict";function i(t){n("SwzX")}var a=n("WZVU"),s=n("E/5j"),o=n("VU/8"),r=i,l=o(a.a,s.a,!1,r,null,null);e.a=l.exports},doCN:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",{ref:"input",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.value}})},a=[],s={render:i,staticRenderFns:a};e.a=s},"dxC/":function(t,e,n){"use strict";e.a={name:"Users",data:function(){return{users:[],activeEl:0}},created:function(){this.api.listUsers().then(function(t){this.users=t}.bind(this))},methods:{clicked:function(t){this.activeEl=t}}}},fSD2:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"main-menu"}},[n("nav",{staticClass:"navbar navbar-light"},[n("ul",{staticClass:"nav nav-tabs nav-fill"},[n("li",{staticClass:"nav-item",on:{click:function(e){t.clicked(0)}}},[n("router-link",{staticClass:"nav-link",class:{active:0==t.activeEl},attrs:{to:"/games",href:"#"}},[t._v("Mängud")])],1),t._v(" "),n("li",{staticClass:"nav-item",on:{click:function(e){t.clicked(1)}}},[n("router-link",{staticClass:"nav-link",class:{active:1==t.activeEl},attrs:{to:"/destinations"}},[t._v("Mängude sihtkohad")])],1),t._v(" "),n("li",{staticClass:"nav-item",on:{click:function(e){t.clicked(2)}}},[n("router-link",{staticClass:"nav-link",class:{active:2==t.activeEl},attrs:{to:"/users"}},[t._v("Kasutajad")])],1),t._v(" "),n("li",{staticClass:"nav-item",on:{click:function(e){t.clicked(3)}}},[n("router-link",{staticClass:"nav-link",class:{active:3==t.activeEl},attrs:{to:"/leaderboards/all"}},[t._v("Edetabelid")])],1)]),t._v(" "),n("ul",{staticClass:"nav nav-pills justify-content-end"},[n("li",{staticClass:"nav navbar-nav navbar-right"},[n("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:t.logout}},[t._v("Logi välja")])])])])])},a=[],s={render:i,staticRenderFns:a};e.a=s},faJ6:function(t,e,n){"use strict";function i(t){n("2Ile")}var a=n("g7UW"),s=n("07vs"),o=n("VU/8"),r=i,l=o(a.a,s.a,!1,r,null,null);e.a=l.exports},g7UW:function(t,e,n){"use strict";e.a={name:"Games",data:function(){return{games:[],activeEl:0}},created:function(){this.api.listGames().then(function(t){this.games=t}.bind(this))},methods:{clicked:function(t){this.activeEl=t}}}},hztW:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[t.state.loggedIn?n("mainmenu"):t._e(),t._v(" "),t.state.loggedIn?n("div",{staticClass:"container"},[n("router-view")],1):n("div",{staticClass:"login"},[n("login")],1)],1)},a=[],s={render:i,staticRenderFns:a};e.a=s},j9E0:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",attrs:{id:"destinations-container"}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-4 destinations-list"},[n("div",{staticClass:"game-name-wrapper"},[n("router-link",{staticClass:"btn btn-block btn-success",attrs:{to:"/create-destination"}},[t._v("\n                Uus punkt \n            ")])],1),t._v(" "),t._l(t.destinations,function(e){return n("div",{staticClass:"game-name-wrapper"},[n("router-link",{staticClass:"btn btn-outline-dark destlink",attrs:{to:"/destinations/"+e.id,"data-name":e.name}},[t._v("\n              "+t._s(e.name)+"\n            ")]),t._v(" "),n("button",{staticClass:"btn btn-danger float-right",attrs:{"data-deletename":e.name},on:{click:function(n){n.preventDefault(),t.deleteDestination(e.id)}}},[t._v("X")])],1)})],2),t._v(" "),n("div",{staticClass:"cur-game-info col-8"},[n("router-view")],1)])])},a=[],s={render:i,staticRenderFns:a};e.a=s},jyJz:function(t,e,n){"use strict";var i=n("De++"),a=n("VU/8"),s=a(null,i.a,!1,null,null,null);e.a=s.exports},kx66:function(t,e,n){"use strict";function i(t){n("SbJe")}var a=n("3yYu"),s=n("zVWi"),o=n("VU/8"),r=i,l=o(a.a,s.a,!1,r,null,null);e.a=l.exports},luBv:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[t.isNewGame?t._e():n("h3",[t._v(t._s(t.game.name))]),t._v(" "),n("form",[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"game_title"}},[t._v("Raja nimi:")]),t._v(" "),n("verror",{attrs:{msg:t.validationErrors.name}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.game.name,expression:"game.name"}],staticClass:"form-control",attrs:{id:"game_title"},domProps:{value:t.game.name},on:{input:function(e){e.target.composing||t.$set(t.game,"name",e.target.value)}}})],1),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"game_description"}},[t._v("Raja kirjeldus:")]),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.game.description,expression:"game.description"}],staticClass:"form-control",attrs:{id:"game_description",rows:"3"},domProps:{value:t.game.description},on:{input:function(e){e.target.composing||t.$set(t.game,"description",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"game_active"}},[t._v("Rada aktiivne:")]),t._v(" "),n("button",{staticClass:"btn",class:{"btn-success":t.game.active},attrs:{id:"game_active"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.toggleActive(e)}}},[t.game.active?n("span",[t._v("\n                    Aktiivne\n                ")]):n("span",[t._v("\n                    Mitteaktiivne\n                ")])])]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"color_picker"}},[t._v("\n                Vali raja värv:\n            ")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.game.gameColor,expression:"game.gameColor"}],attrs:{type:"color",id:"color_picker"},domProps:{value:t.game.gameColor},on:{input:function(e){e.target.composing||t.$set(t.game,"gameColor",e.target.value)}}})]),t._v(" "),n("div",[n("label",{},[t._v("Vali punktid: ")]),t._v(" "),n("multiselect",{attrs:{placeholder:"Punktid:",multiple:!0,"track-by":"id",label:"name",options:t.destinations,"select-label":"Vali punkt","deselect-label":"Eemalda punkt","selected-label":"Valitud"},model:{value:t.game.destinations,callback:function(e){t.$set(t.game,"destinations",e)},expression:"game.destinations"}})],1),t._v(" "),n("div",{staticClass:"row action-buttons"},[n("div",{staticClass:"col"},[n("button",{staticClass:"btn btn-block btn-success btn-lg",attrs:{id:"submit-game"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.submit(e)}}},[t._v("\n                Salvesta\n            ")])]),t._v(" "),n("div",{staticClass:"col"},[n("button",{staticClass:"btn btn-block btn-danger btn-lg tuhista",on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.cancel(e)}}},[t._v("\n                Tühista\n            ")])])])])])},a=[],s={render:i,staticRenderFns:a};e.a=s},mo3F:function(t,e){},"nKb+":function(t,e,n){"use strict";e.a={name:"login",data:function(){return{email:"",password:""}},methods:{login:function(){console.log(this.api),this.api.authenticate(this.email,this.password).then(function(){this.$router.push({name:"Games"}),this.$parent.state.loggedIn=!0}.bind(this)).catch(function(t){alert("vigane parool")})}}}},preG:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("osty"),a=n.n(i),s=n("doCN"),o=n("VU/8"),r=o(a.a,s.a,!1,null,null,null);e.default=r.exports},qhhm:function(t,e){},"r/ZB":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{ref:"flyaway"},[t._t("default")],2)])},a=[],s={render:i,staticRenderFns:a};e.a=s},rv5c:function(t,e){},"s6+2":function(t,e,n){"use strict";function i(t){n("qhhm")}var a=n("Uhku"),s=n("VIkJ"),o=n("VU/8"),r=i,l=o(a.a,s.a,!1,r,"data-v-5e4237b6",null);e.a=l.exports},u6eV:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container login-container"},[n("div",{staticClass:"row justify-content-md-center"},[n("div",{staticClass:"col-md-4"},[n("div",{},[t._m(0,!1,!1),t._v(" "),n("div",{},[n("form",{attrs:{"accept-charset":"UTF-8",role:"form"}},[n("fieldset",[n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{placeholder:"E-mail",name:"email",type:"text"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{placeholder:"Password",name:"password",type:"password",value:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),n("button",{staticClass:"btn btn-lg btn-success btn-block",attrs:{type:"submit"},on:{click:function(e){e.preventDefault(),t.login(e)}}},[t._v("Logi sisse")])])])])])])])])},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("h3",{staticClass:"panel-title"},[t._v("Palun logi sisse: ")])])}],s={render:i,staticRenderFns:a};e.a=s},v6Uu:function(t,e,n){"use strict";function i(t){n("KiRs")}var a=n("5awb"),s=n("4xmN"),o=n("VU/8"),r=i,l=o(a.a,s.a,!1,r,null,null);e.a=l.exports},xJD8:function(t,e,n){"use strict";var i=n("DtT/"),a=n("xJsL"),s={loggedIn:!1};e.a={name:"app",data:function(){return{state:s}},components:{mainmenu:i.a,login:a.a}}},xJsL:function(t,e,n){"use strict";function i(t){n("2B8Y")}var a=n("nKb+"),s=n("u6eV"),o=n("VU/8"),r=i,l=o(a.a,s.a,!1,r,null,null);e.a=l.exports},zVWi:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",attrs:{id:"games-container"}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-4 games-list"},[n("div",{staticClass:"game-name-wrapper"},[n("router-link",{staticClass:"btn btn-block btn-success",attrs:{to:"/create-game"}},[t._v("\n                Uus rada\n            ")])],1),t._v(" "),t._l(t.games,function(e){return n("div",{staticClass:"game-name-wrapper"},[n("router-link",{staticClass:"btn btn-outline-dark btn gamelink",attrs:{to:"/games/"+e.id,"data-name":e.name}},[t._v("\n              "+t._s(e.name)+"\n            ")]),t._v(" "),n("button",{staticClass:"btn btn-danger float-right",attrs:{"data-deletename":e.name},on:{click:function(n){n.preventDefault(),t.deleteGame(e.id)}}},[t._v("X")])],1)})],2),t._v(" "),n("div",{staticClass:"cur-game-info col-8"},[n("router-view")],1)])])},a=[],s={render:i,staticRenderFns:a};e.a=s}},["NHnr"]);
//# sourceMappingURL=app.955c650b6d52cee5e0f9.js.map