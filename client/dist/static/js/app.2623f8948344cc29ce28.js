webpackJsonp([0],{"2Nby":function(t,n,a){"use strict";n.a={name:"mainmenu",data:function(){return{}}}},"2rB8":function(t,n,a){"use strict";var e=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"container"},[t.isNewGame?t._e():a("h3",[t._v(t._s(t.game.name))]),t._v(" "),a("form",[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"game_title"}},[t._v("Raja nimi:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.game.name,expression:"game.name"}],staticClass:"form-control",attrs:{id:"game_title"},domProps:{value:t.game.name},on:{input:function(n){n.target.composing||t.$set(t.game,"name",n.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"game_description"}},[t._v("Raja kirjeldus:")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.game.description,expression:"game.description"}],staticClass:"form-control",attrs:{id:"game_description",rows:"3"},domProps:{value:t.game.description},on:{input:function(n){n.target.composing||t.$set(t.game,"description",n.target.value)}}})]),t._v(" "),a("div",[a("label",{},[t._v("Vali punktid: ")]),t._v(" "),a("multiselect",{attrs:{placeholder:"Punktid:",multiple:!0,"track-by":"id",label:"name",options:t.destinations,"select-label":"Vali punkt","deselect-label":"Eemalda punkt","selected-label":"Valitud"},model:{value:t.game.destinations,callback:function(n){t.$set(t.game,"destinations",n)},expression:"game.destinations"}})],1),t._v(" "),a("div",{staticClass:"row action-buttons"},[a("div",{staticClass:"col"},[a("button",{staticClass:"btn btn-block btn-success btn-lg",on:{click:function(n){n.stopPropagation(),t.submit(n)}}},[t._v("\n                Salvesta\n            ")])]),t._v(" "),t._m(0)])])])},i=[function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"col"},[a("button",{staticClass:"btn btn-block btn-danger btn-lg tuhista"},[t._v("\n                Tühista\n            ")])])}],s={render:e,staticRenderFns:i};n.a=s},"3yYu":function(t,n,a){"use strict";var e=a("SvTV");n.a={name:"Games",data:function(){return{games:[]}},methods:{deleteGame:function(t){e.a.deleteGame(t).then(function(){this.games=this.games.filter(function(n){return t!=n.id})}.bind(this))}},created:function(){e.a.listGames().then(function(t){this.games=t}.bind(this))}}},"6PPp":function(t,n,a){"use strict";var e=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"container",attrs:{id:"games-container"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-4 games-list"},[a("div",{staticClass:"game-name-wrapper"},[a("router-link",{staticClass:"btn btn-block btn-success",attrs:{to:"/create-destination"}},[t._v("\n                Uus punkt \n            ")])],1),t._v(" "),t._l(t.destinations,function(n){return a("div",{staticClass:"game-name-wrapper"},[a("router-link",{staticClass:"btn btn-outline-dark btn-block",attrs:{to:"/destinations/"+n.id}},[t._v("\n              "+t._s(n.name)+"\n            ")])],1)})],2),t._v(" "),a("div",{staticClass:"cur-game-info col-8"},[a("router-view")],1)])])},i=[],s={render:e,staticRenderFns:i};n.a=s},"96Ht":function(t,n,a){"use strict";var e=a("SvTV");n.a={name:"Games",created:function(){e.a.listDestinations().then(function(t){this.destinations=t}.bind(this))},data:function(){return{destinations:[]}}}},Ab7z:function(t,n,a){"use strict";var e=a("VU/8"),i=e(null,null,!1,null,null,null);i.exports},"DtT/":function(t,n,a){"use strict";function e(t){a("x3yE")}var i=a("2Nby"),s=a("zDrU"),o=a("VU/8"),r=e,c=o(i.a,s.a,!1,r,null,null);n.a=c.exports},FX9o:function(t,n){},Gjim:function(t,n,a){"use strict";function e(t){a("yS8/")}var i=a("U2g2"),s=a("2rB8"),o=a("VU/8"),r=e,c=o(i.a,s.a,!1,r,null,null);n.a=c.exports},HyhT:function(t,n,a){"use strict";function e(t){a("pR5o")}var i=a("96Ht"),s=a("6PPp"),o=a("VU/8"),r=e,c=o(i.a,s.a,!1,r,null,null);n.a=c.exports},M93x:function(t,n,a){"use strict";function e(t){a("FX9o")}var i=a("xJD8"),s=a("MTSB"),o=a("VU/8"),r=e,c=o(i.a,s.a,!1,r,null,null);n.a=c.exports},MTSB:function(t,n,a){"use strict";var e=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{attrs:{id:"app"}},[t.state.loggedIn?a("mainmenu"):t._e(),t._v(" "),t.state.loggedIn?a("div",{staticClass:"container"},[a("router-view")],1):a("div",{staticClass:"login"},[a("login")],1)],1)},i=[],s={render:e,staticRenderFns:i};n.a=s},NHnr:function(t,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=a("7+uW"),i=a("M93x"),s=a("YaEn"),o=a("mtWM"),r=a.n(o);e.a.config.productionTip=!1,r.a.get("http://localhost:3000/").then(function(t){console.log(t)}),new e.a({el:"#app",router:s.a,template:"<App/>",components:{App:i.a}})},PIoQ:function(t,n){},SvTV:function(t,n,a){"use strict";var e,e,i=a("mtWM"),s=a.n(i),e="//ekmweb.herokuapp.com",o={token:!1,tokenize:function(t){return t.token=o.token,t},mapDestinationIds:function(t){return t.map(function(t){return t.id})},authenticate:function(t,n){return s.a.post(e+"/app/game").then(function(t){o.token=t.data})},listGames:function(){return s.a.get(e+"/app/game").then(function(t){return t.data.map(function(t){return{id:t._id,name:t.name}})})},gameById:function(t){return s.a.get(e+"/app/game/"+t).then(function(t){return t.data})},newGame:function(t){var n={game:t};return n=o.tokenize(n),s.a.post(e+"/app/game",n)},editGame:function(t,n){var a={game:n};return a=o.tokenize(a),s.a.put(e+"/app/game/"+t,a)},deleteGame:function(t){var n=o.tokenize({});return s.a.delete(e+"/app/game/"+t,n)},listDestinations:function(t){return s.a.get(e+"/app/destination").then(function(t){return t.data.map(function(t){return console,{id:t._id,name:t.name}})})},destinationById:function(t){return s.a.get(e+"/app/destination/"+t).then(function(t){return t.data})},newDestination:function(t){var n={destination:t};return n=o.tokenize(n),s.a.post(e+"/app/destination",n)},editDestination:function(t){}};n.a=o},Svxx:function(t,n,a){"use strict";function e(t){a("YFn3")}var i=a("Zkz/"),s=a("zf6b"),o=a("VU/8"),r=e,c=o(i.a,s.a,!1,r,null,null);n.a=c.exports},"TKn+":function(t,n,a){"use strict";var e=a("VU/8"),i=e(null,null,!1,null,null,null);n.a=i.exports},U2g2:function(t,n,a){"use strict";var e=a("SvTV"),i=a("RUzx"),s=a.n(i);n.a={name:"SingleGame",data:function(){return{labels:{selected:"test"},game:{name:void 0,description:void 0,destinations:[]},destinations:[]}},computed:{isNewGame:function(){return!this.$route.params.id}},components:{Multiselect:s.a},methods:{submit:function(){var t={name:this.game.name,description:this.game.description,destinations:e.a.mapDestinationIds(this.game.destinations)};this.isNewGame?e.a.newGame(t).then(function(t){this.$router.push({name:"singlegame",params:{id:t.data.id}})}.bind(this)):e.a.editGame(this.$route.params.id,t).then(function(t){alert("muudetud")}.bind(this))},reload:function(){this.isNewGame||e.a.gameById(this.$route.params.id).then(function(t){console.log(t),this.game=t}.bind(this)),e.a.listDestinations().then(function(t){console.log(t),this.destinations=t}.bind(this))}},watch:{"$route.params.id":function(t){this.reload()}},created:function(){this.reload()}}},Uhku:function(t,n,a){"use strict";n.a={name:"Main",data:function(){return{msg:"test"}}}},YFn3:function(t,n){},YaEn:function(t,n,a){"use strict";var e=a("7+uW"),i=a("/ocq"),s=a("s6+2"),o=a("kx66"),r=a("HyhT"),c=a("TKn+"),l=a("Gjim"),u=(a("Ab7z"),a("Svxx"));e.a.use(i.a),n.a=new i.a({routes:[{path:"/",name:"Main",component:s.a},{path:"/games",name:"Games",component:o.a,children:[{name:"singlegame",path:":id",component:l.a}]},{path:"/destinations",name:"Destinations",component:r.a,children:[{name:"singledestination",path:":destinationId",component:u.a}]},{path:"/users",name:"Users",component:c.a},{path:"/create-game",name:"NewGame",component:l.a},{path:"/create-destination",name:"NewDestination",component:u.a}]})},ZMFa:function(t,n){},"Zkz/":function(t,n,a){"use strict";var e=a("SvTV"),i=a("RUzx"),s=a.n(i);e.a.listGames(),n.a={name:"SingleDestination",data:function(){return{destination:{name:void 0,description:void 0,media:void 0,question:void 0,information:void 0,coords:{lat:123,long:123}}}},computed:{isNewDestination:function(){return!this.$route.params.destinationId}},components:{Multiselect:s.a},methods:{submit:function(){this.isNewDestination?e.a.newDestination(this.destination).then(function(t){this.$router.push({name:"singledestination",params:{destinationId:t.data.id}})}.bind(this)):console.log("not new game")},reload:function(){this.isNewDestination||(console.log(this.$route.params.destinationId),e.a.destinationById(this.$route.params.destinationId).then(function(t){console.log(t),this.destination=t}.bind(this)))}},watch:{"$route.params.destinationId":function(){this.reload()}},created:function(){this.reload(),e.a.listDestinations().then(function(t){console.log("tes"),this.destinations=t}.bind(this))}}},ebwX:function(t,n,a){"use strict";var e=function(){var t=this,n=t.$createElement;return(t._self._c||n)("div",{})},i=[],s={render:e,staticRenderFns:i};n.a=s},kx66:function(t,n,a){"use strict";function e(t){a("ZMFa")}var i=a("3yYu"),s=a("vG4w"),o=a("VU/8"),r=e,c=o(i.a,s.a,!1,r,null,null);n.a=c.exports},"n+RR":function(t,n){},"nKb+":function(t,n,a){"use strict";var e=a("SvTV");n.a={name:"login",data:function(){return{email:"",password:""}},methods:{login:function(){e.a.authenticate(this.email,this.password).then(function(){this.$router.push({name:"Games"}),this.$parent.state.loggedIn=!0}.bind(this))}}}},otLb:function(t,n,a){"use strict";var e=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"container login-container"},[a("div",{staticClass:"row justify-content-md-center"},[a("div",{staticClass:"col-md-4"},[a("div",{},[t._m(0),t._v(" "),a("div",{},[a("form",{attrs:{"accept-charset":"UTF-8",role:"form"}},[a("fieldset",[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{placeholder:"E-mail",name:"email",type:"text"},domProps:{value:t.email},on:{input:function(n){n.target.composing||(t.email=n.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{placeholder:"Password",name:"password",type:"password",value:""},domProps:{value:t.password},on:{input:function(n){n.target.composing||(t.password=n.target.value)}}})]),t._v(" "),a("button",{staticClass:"btn btn-lg btn-success btn-block",attrs:{type:"submit"},on:{click:function(n){n.preventDefault(),t.login(n)}}},[t._v("Logi sisse")])])])])])])])])},i=[function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{},[a("h3",{staticClass:"panel-title"},[t._v("Palun logi sisse: ")])])}],s={render:e,staticRenderFns:i};n.a=s},pR5o:function(t,n){},"s6+2":function(t,n,a){"use strict";function e(t){a("PIoQ")}var i=a("Uhku"),s=a("ebwX"),o=a("VU/8"),r=e,c=o(i.a,s.a,!1,r,"data-v-243bc551",null);n.a=c.exports},vG4w:function(t,n,a){"use strict";var e=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"container",attrs:{id:"games-container"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-4 games-list"},[a("div",{staticClass:"game-name-wrapper"},[a("router-link",{staticClass:"btn btn-block btn-success",attrs:{to:"/create-game"}},[t._v("\n                Uus rada\n            ")])],1),t._v(" "),t._l(t.games,function(n){return a("div",{staticClass:"game-name-wrapper"},[a("router-link",{staticClass:"btn btn-outline-dark btn gamelink",attrs:{to:"/games/"+n.id}},[t._v("\n              "+t._s(n.name)+"\n            ")]),t._v(" "),a("button",{staticClass:"btn btn-danger float-right",on:{click:function(a){a.preventDefault(),t.deleteGame(n.id)}}},[t._v("X")])],1)})],2),t._v(" "),a("div",{staticClass:"cur-game-info col-8"},[a("router-view")],1)])])},i=[],s={render:e,staticRenderFns:i};n.a=s},x3yE:function(t,n){},xJD8:function(t,n,a){"use strict";var e=a("DtT/"),i=a("xJsL"),s={loggedIn:!1};n.a={name:"app",data:function(){return{state:s}},components:{mainmenu:e.a,login:i.a}}},xJsL:function(t,n,a){"use strict";function e(t){a("n+RR")}var i=a("nKb+"),s=a("otLb"),o=a("VU/8"),r=e,c=o(i.a,s.a,!1,r,null,null);n.a=c.exports},"yS8/":function(t,n){},zDrU:function(t,n,a){"use strict";var e=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{attrs:{id:"main-menu"}},[a("nav",{staticClass:"navbar navbar-light"},[a("ul",{staticClass:"nav nav-tabs nav-fill"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link active",attrs:{to:"/games",href:"#"}},[t._v("Mängud")])],1),t._v(" "),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/destinations"}},[t._v("Mängude sihtkohad")])],1),t._v(" "),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/users",href:"#"}},[t._v("Kasutajad")])],1)]),t._v(" "),t._m(0)])])},i=[function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("ul",{staticClass:"nav nav-pills justify-content-end"},[a("li",{staticClass:"nav navbar-nav navbar-right"},[a("a",{staticClass:"nav-link",attrs:{href:"#"}},[t._v("Logi välja")])])])}],s={render:e,staticRenderFns:i};n.a=s},zf6b:function(t,n,a){"use strict";var e=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"container"},[t.isNewDestination?t._e():a("h3",[t._v(t._s(t.destination.name))]),t._v(" "),a("form",[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"point_title"}},[t._v("Punkti nimi:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.destination.name,expression:"destination.name"}],staticClass:"form-control",attrs:{id:"point_title"},domProps:{value:t.destination.name},on:{input:function(n){n.target.composing||t.$set(t.destination,"name",n.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"point_description"}},[t._v("Punkti kirjeldus:")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.destination.description,expression:"destination.description"}],staticClass:"form-control",attrs:{id:"point_description",rows:"3"},domProps:{value:t.destination.description},on:{input:function(n){n.target.composing||t.$set(t.destination,"description",n.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"point_info"}},[t._v("Punkti informatsioon (näitamiseks peale punktis jõudmist): ")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.destination.information,expression:"destination.information"}],staticClass:"form-control",attrs:{id:"point_info",rows:"3"},domProps:{value:t.destination.information},on:{input:function(n){n.target.composing||t.$set(t.destination,"information",n.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"coordsx"}},[t._v("Koordinaat lat: ")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.destination.coords.lat,expression:"destination.coords.lat"}],staticClass:"form-control",attrs:{id:"coordsx",rows:"3"},domProps:{value:t.destination.coords.lat},on:{input:function(n){n.target.composing||t.$set(t.destination.coords,"lat",n.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"coordsy"}},[t._v("Koordinaat long: ")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.destination.coords.long,expression:"destination.coords.long"}],staticClass:"form-control",attrs:{id:"coordsy",rows:"3"},domProps:{value:t.destination.coords.long},on:{input:function(n){n.target.composing||t.$set(t.destination.coords,"long",n.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"point_media"}},[t._v("Pilt või audio (praegu lihtsalt url:) ")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.destination.media,expression:"destination.media"}],staticClass:"form-control",attrs:{id:"point_media",rows:"3"},domProps:{value:t.destination.media},on:{input:function(n){n.target.composing||t.$set(t.destination,"media",n.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"point_question"}},[t._v("Küsimus punkti kohta: ")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.destination.question,expression:"destination.question"}],staticClass:"form-control",attrs:{id:"point_question",rows:"3"},domProps:{value:t.destination.question},on:{input:function(n){n.target.composing||t.$set(t.destination,"question",n.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"point_answer"}},[t._v("Vastus küsimusele: ")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.destination.answer,expression:"destination.answer"}],staticClass:"form-control",attrs:{type:"text",id:"point_answer",rows:"3"},domProps:{value:t.destination.answer},on:{input:function(n){n.target.composing||t.$set(t.destination,"answer",n.target.value)}}})]),t._v(" "),a("div",{staticClass:"row action-buttons"},[a("div",{staticClass:"col"},[a("button",{staticClass:"btn btn-block btn-success btn-lg",on:{click:function(n){n.stopPropagation(),t.submit(n)}}},[t._v("\n                Salvesta\n            ")])]),t._v(" "),t._m(0)])])])},i=[function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"col"},[a("button",{staticClass:"btn btn-block btn-danger btn-lg tuhista"},[t._v("\n                Tühista\n            ")])])}],s={render:e,staticRenderFns:i};n.a=s}},["NHnr"]);
//# sourceMappingURL=app.2623f8948344cc29ce28.js.map